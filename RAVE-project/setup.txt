# Allocate resources, create conda environment, install ffmpeg, sox, and RAVE
salloc -p education_gpu -t 2:00:00 --gpus=1
module load miniconda
conda create -n RAVE python=3.9
conda activate RAVE
conda install ffmpeg sox -y
pip install acids-rave

# Create a new directory, clone the RAVE repository, and create a directory for the datasets
mkdir RAVE-project
cd RAVE-project
git clone https://github.com/acids-ircam/RAVE.git
mkdir datasets

# Put the dataset in the datasets directory

# Preprocess the dataset
rave preprocess --input_path datasets/hiphop --output_path preprocessed/hiphop

# Train the model
sbatch RAVE-training-batch.sh

rave export --name hiphop --run trainings/hiphop/hiphop_43ef472243/ --streaming True --output exports/